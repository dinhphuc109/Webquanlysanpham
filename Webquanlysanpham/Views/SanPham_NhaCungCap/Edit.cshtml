@model Webquanlysanpham.Models.SanPham_NhaCungCap
@{
    ViewBag.Title = "Edit";

}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="row">
    <div class="col-6">
        <div class="form-horizontal">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })            
            <div class="form-group">
                @Html.LabelFor(model => model.SanPhamID, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.DropDownListFor(model => model.SanPhamID, (SelectList)ViewBag.Listsanpham, new { @class = "form-control"  })
                    @Html.ValidationMessageFor(model => model.SanPhamID, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.NCCID, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    <input type="hidden" value="NCCID"  id="selectedmemebers"/>
                    @Html.DropDownListFor(model => model.NCCID, (SelectList)ViewBag.Listnhacungcap, new { @id="Members", @class= "select2 form-select",  @multiple = "multiple"  })
                    @Html.ValidationMessageFor(model => model.NCCID, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10 form-button">
                    <input type="submit" value="Edit" class="btn btn-primary btn-user btn-block" />
                </div>
            </div>

        </div>
    </div>
</div>
}

<div>
    <a asp-controller="SanPham_NhaCungCap" asp-action="Index" class="btn btn-secondary" style="width:150px">Quay Lai</a>
</div>
@section Scripts{
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script type="text/javascript">
        $(function () { 
            //get the selectedmember from the hidden field.
            var selectedmembers = $("#selectedmemebers").val().split(",");
            //set the value in the dropdownlist.
            $("#Members").select2({
                multiple: true,
              });
              $('#Members').val(selectedmembers).trigger('change'); 
        });
    </script>
}

